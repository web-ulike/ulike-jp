<div class="table-comparison-container table-comparison-fb container {% if section.settings.show_divider %} section--divider{% endif %}">
  <div class="table-comparison">
    {%- for block in section.blocks -%}
        <div class="tc-block" id="tc-row-{{ forloop.index }}">
            <div class="tc-data wtitle frow" >
                {%- if block.settings.icon != blank -%}
                    <div class="tc-data-wimg">
                        <div class="tc-data-wimg__wrapper">
                          {{ block.settings.icon | img_url: 'master' | img_tag }}
                        </div>
                        <p {% if forloop.index != 1 %}class="tcpHeading"{% endif %}>{{ block.settings.title }}</p>
                    </div>
                {%- else -%}
                    <h3>{{ block.settings.title }}</h3>
                {%- endif -%}
                {% if forloop.index == 1 %}
                <div class="destok-select">
                  <div class="select-box-destok">
                    <span class="selected-option-destok">Select an option</span>
                  </div>
                </div>
                {% endif %}
                {% if forloop.index == 1 %}
                <div class="mobile-select">
                  <div class="select-arrow">
                    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" role="presentation" class="icon icon-caret" fill="none" viewBox="0 0 24 15">
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c-.3 0-.6-.1-.8-.4l-11-13C-.2 1.2-.1.5.3.2c.4-.4 1.1-.3 1.4.1L12 12.5 22.2.4c.4-.4 1-.5 1.4-.1.4.4.5 1 .1 1.4l-11 13c-.1.2-.4.3-.7.3z" fill="currentColor"></path>
                    </svg>
                  </div>
                  <div class="select-box">
                    <span class="selected-option">Select an option</span>
                  </div>
                  <div class="vs-text"></div>
                </div>
                {% endif %}
            </div>
            <div class="tc-data srow">
                {%- if block.settings.data_content_type_1 == 'text' -%}
                    <div class="tc-data-th">
                        {{ block.settings.text_1 }}
                    </div>
                {%- else -%}
                    <div class="tc-data-icon">
                        <span class="tc-icon-big">{{ block.settings.icon_1_1 | image_url: 'master' | img_tag }}</span>
                        <span class="tc-icon-small">{{ block.settings.icon_1_1 | image_url: 'master' | img_tag }}</span>
                        <div class="tc-text-small">{{ block.settings.text_1_2 }}</div>
                        <div class="tc-data-th">
                        {{ block.settings.text_1 }}
                    </div>
                    </div>
                {%- endif -%}
            </div>
            <div class="tc-data srow">
                {%- if block.settings.data_content_type_2 == 'text' -%}
                    <div class="tc-data-th">
                        {{ block.settings.text_2 }}
                    </div>
                {%- else -%}
                    <div class="tc-data-icon">
                      <span class="tc-icon-big">{{ block.settings.icon_2_1 | image_url: 'master' | img_tag }}</span>
                      <span class="tc-icon-small">{{ block.settings.icon_2_1 | image_url: 'master' | img_tag }}</span>
                      <div class="tc-text-small">{{ block.settings.text_2_2 }}</div>
                      <div class="tc-data-th">
                        {{ block.settings.text_2 }}
                    </div>
                    </div>
                {%- endif -%}
            </div>
            <div class="tc-data srow">
                {%- if block.settings.data_content_type_3 == 'text' -%}
                    <div class="tc-data-th">
                        {{ block.settings.text_3 }}
                    </div>
                {%- else -%}
                    <div class="tc-data-icon">
                      <span class="tc-icon-big">{{ block.settings.icon_3_1 | image_url: 'master' | img_tag }}</span>
                      <span class="tc-icon-small">{{ block.settings.icon_3_1 | image_url: 'master' | img_tag }}</span>
                      <div class="tc-text-small">{{ block.settings.text_3_2 }}</div>
                      <div class="tc-data-th">
                        {{ block.settings.text_3 }}
                    </div>
                    </div>
                {%- endif -%}
            </div>
            <div class="tc-data srow">
                {%- if block.settings.data_content_type_4 == 'text' -%}
                    <div class="tc-data-th">
                        {{ block.settings.text_4 }}
                    </div>
                {%- else -%}
                    <div class="tc-data-icon">
                      <span class="tc-icon-big">{{ block.settings.icon_4_1 | image_url: 'master' | img_tag }}</span>
                      <span class="tc-icon-small">{{ block.settings.icon_4_1 | image_url: 'master' | img_tag }}</span>
                      <div class="tc-text-small">{{ block.settings.text_4_2 }}</div>
                      <div class="tc-data-th">
                        {{ block.settings.text_4 }}
                    </div>
                    </div>
                {%- endif -%}
            </div>
        </div>
    {%- endfor -%}
  </div>
</div>

{% style %}
    .table-comparison-fb .banner__box .button{
      background: #E0004D;
      color:#ffffff;
      border-color: #E0004D;
    }
    @media screen and (hover: hover){
      .table-comparison-fb .banner__box .button:after {
          opacity: 0.1;
      }
    }
    #shopify-section-{{ section.id }} {
        background-color: {{ section.settings.background }}; /* Allows to set a placeholder color while loading */
    }
    .table-comparison-container{
        padding-top: {{ section.settings.padding_top }}px;
        padding-bottom: {{ section.settings.padding_bottom }}px;
    }
    .table-comparison-fb .table-comparison{
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        width: 100%;
    }
    .table-comparison-fb .tc-block{
        width: 100%;
    }
    .table-comparison-fb #tc-row-1.tc-block{
        width: 100%;
        margin-bottom: 80px;
    }
    .table-comparison-fb .tc-data-wimg__wrapper {
      width: 253px;
      height: 253px;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      margin: 0 auto 75px;
    }
    .table-comparison-fb .tc-data-wimg__wrapper img {
      width:100%;
      height:100%;
    }
    .table-comparison-fb .tc-block:nth-child(2) .tc-data-wimg p{
      color: #181818;
    }
    .table-comparison-fb .tc-data{
        padding: 32px 0;
    }
    .table-comparison-fb .tc-data .tc-data-wimg,
    .table-comparison-fb .tc-data .tc-data-icon{
        text-align: center;
    }
    .table-comparison-fb .tc-data .tc-data-wimg p{
        margin: 0;
        color: #282828;
        font-size: 19px;
        font-weight: 700;
    }
    .table-comparison-fb .tc-data h3{
        font-size: 36px;
        line-height: 56px;
        color: #181818;
        margin: 0;
        font-weight: 700;
    }
    .table-comparison-fb .tc-data.frow{
        min-height: 170px;
        display: block;
    }
    .table-comparison-fb .tc-data.srow{
        display: flex;
        justify-content: center;
        flex-direction: inherit;
    }
    .table-comparison-fb .tc-data-th{
        color: #000000;
        font-size: 16px;
        line-height: 25.92px;
        font-weight: 600;
        max-width: 300px;
        min-height: 51px;
    }
    .table-comparison-fb .mobile-select{
      display: none;
      position:relative;
    }
    .table-comparison-fb .mobile-select select{
      border: none;
      background-color: transparent;
      font-size: 14px;
      color: #181818;
      appearance: none;
      -webkit-appearance: none;
      box-shadow: none;
      outline: none;
    }
    .table-comparison-fb .mobile-select svg{
      height: 0.6rem;
      pointer-events: none;
      position: absolute;
      top: calc(50% - 0.35rem);
      right: 1.5rem;
    }
    .table-comparison-fb .tc-icon-big{display:inline;}
    .table-comparison-fb .tc-icon-small,
    .table-comparison-fb .tc-text-small{display:none;}
    .table-comparison-fb .vs-text{display:block;}
    .table-comparison-fb .tc-data-icon .tc-icon-big img{
      max-width: 36px;
    }
    .table-comparison-fb .tc-data .tc-data-wimg p,
    .table-comparison-fb .tc-data-th{
      color: #000000;
      font-family: 'soehne-kraftig';
      font-size: 16px;
      text-align: center;
      font-weight: 400;
    }
    .table-comparison-fb #tc-row-2 .tc-data-th,.table-comparison-fb #tc-row-3 .tc-data-th,.table-comparison-fb #tc-row-4 .tc-data-th{
      font-family: 'soehne-kraftig';
    }
    .table-comparison-fb .select-box {
      position: relative;
      display: block;
    }
    .table-comparison-fb .selected-option {
      display: block;
      padding: 10px;
      color: #040000;
      cursor: pointer;
      border: 1px solid #040000;
    }

    .table-comparison-fb .option-list {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background-color: #ffffff;
      color: #040000;
      list-style: none;
      padding: 0;
      margin: 0;
      border: 1px solid #040000;
      display: none;
      z-index: 1;
      width: 100%;
      border-top: none;
    }

    .table-comparison-fb .option-list.show {
      display: block;
    }
    .table-comparison-fb .option {
      padding: 10px;
      cursor: pointer;
    }
    .table-comparison-fb .option:hover {
      background-color: #040000;
      color: #ffffff;
    }
    .table-comparison-fb .select-arrow.top svg.icon.icon-caret {
        transform: scaleY(-1);
    }
        .table-comparison-fb.table-comparison-container{
            overflow-x: unset;
        }
       .table-comparison-fb .tc-data{
          padding: 25px 0;
          min-height: auto;
        }
        .table-comparison-fb .tc-data.frow {
          min-height: auto;
        }
        .table-comparison-fb .mobile-select select{width: 100%;}
        .table-comparison-fb #tc-row-1{width:100% !important;}
        .table-comparison-fb #tc-row-1 .tc-data.srow{display: none;}
        .table-comparison-fb #tc-row-1 h3{
          max-width: none;
          font-size: 32px;
          margin-bottom: 28px;
          padding-left: 0px;
        }
        .table-comparison-fb .tc-block{width:100%;}
        .table-comparison-fb .table-comparison {width: 100%;}
        .table-comparison-fb #tc-row-2,
        .table-comparison-fb #tc-row-5{display: block;width:50% !important;}
        .table-comparison-fb #tc-row-3, .table-comparison-fb #tc-row-4, .table-comparison-fb #tc-row-6, .table-comparison-fb #tc-row-7{display: none;}
        .table-comparison-fb #tc-row-1 .tc-data {
          border-bottom: none;
          padding: 0 0;
        }
        .table-comparison-fb #tc-row-1 .tc-data.frow {
          min-height: auto;
          display: flex;
          border-bottom: 1px solid #E6E6E6;
          align-items: center;
          justify-content: space-between;
        }
        .table-comparison-fb [data-table-show="3"] #tc-row-2,
        .table-comparison-fb [data-table-show="3"] #tc-row-5{
          display: block;
          width: 50%;
        }
        .table-comparison-fb [data-table-show="3"] #tc-row-3, .table-comparison-fb [data-table-show="3"] #tc-row-4, .table-comparison-fb [data-table-show="3"] #tc-row-6, .table-comparison-fb [data-table-show="3"] #tc-row-7,
        .table-comparison-fb [data-table-show="4"] #tc-row-2, .table-comparison-fb [data-table-show="4"] #tc-row-4, .table-comparison-fb [data-table-show="4"] #tc-row-5, .table-comparison-fb [data-table-show="4"] #tc-row-7,
        .table-comparison-fb [data-table-show="5"] #tc-row-2, .table-comparison-fb [data-table-show="5"] #tc-row-3, .table-comparison-fb [data-table-show="5"] #tc-row-5, .table-comparison-fb [data-table-show="5"] #tc-row-6{
          display: none;
        }
        .table-comparison-fb [data-table-show="4"] #tc-row-3,
        .table-comparison-fb [data-table-show="4"] #tc-row-6{
          display: block;
          width: 50%;
        }
        .table-comparison-fb [data-table-show="5"] #tc-row-4,
        .table-comparison-fb [data-table-show="5"] #tc-row-7{
          display: block;
          width: 50%;
        }
        .table-comparison-fb .tc-icon-big{display:none;}
        .table-comparison-fb .tc-icon-small{display:inline-flex;margin-bottom: 17px;}
        .table-comparison-fb .tc-block:nth-child(2) .tc-data-wimg p {
          color: #282828;
        }
        .table-comparison-fb .tc-icon-small img{max-width: 50px;}
        .table-comparison-fb .tc-text-small{
          display: block;
           font-size: 16px;
          color: #000000;
          font-family: 'soehne-buch';
          max-width: 300px;
          margin: 0 auto;
          line-height: 1.6;
          min-height: 51px;
        }
        .table-comparison-fb .tc-data .tc-data-wimg p {
          font-size: 29px;
          color: #181818;
        }
        .table-comparison-fb .vs-text{
          font-family: 'soehne-buch';
          font-size: 20px;
          line-height: 23px;
          color: #181818;
          position: absolute;
          bottom: -59px;
          left: 28.5%;
          font-weight: 700;
        }
        .table-comparison-fb .compare-on .vs-text{
          display: block;
        }
        .table-comparison-fb .select-box-destok .option-destok{
          display: inline-flex;
          width: 180px;
          height: 40px;
          border-radius: 30px;
          border: 2px solid #e0004d;
          text-align: center;
          color:#7D7E79;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          margin: 0 20px;
          font-size:16px;
        }
        .table-comparison-fb .select-box-destok .option-destok.active{
          background: #e0004d;
           color: #ffffff;
        }
        .table-comparison-fb .select-box-destok .option-destok:hover{
          background: #e0004d;
          color: #ffffff;
        }
        @media screen and (max-width: 1100px){
          .table-comparison-fb .tc-data-wimg__wrapper{
            width: auto;
            height: auto;
            margin: 20px;
          }
          .table-comparison-fb .select-box-destok .option-destok{
            margin: 5px 10px;
          }
        }
        @media screen and (max-width: 768px){
          .table-comparison-fb #tc-row-1 .tc-data.frow {
              align-items: flex-start;
              flex-direction: column;
          }
          .table-comparison-fb .destok-select{
            display: none;
          }
          .table-comparison-fb .mobile-select{
            display:block;
            width: 100%;
          }
          .table-comparison-fb .tc-data-wimg__wrapper{
            width: auto;
            height: auto;
            margin: 10px;
          }
          .table-comparison-fb #tc-row-1.tc-block{
            margin-bottom: 10px;
          }
          .table-comparison-fb .tc-data .tc-data-wimg p{
            font-size: 26px;
          }
          .table-comparison-fb .tc-text-small{
            font-size: 12px;
          }
          .table-comparison-fb .tc-data .tc-data-wimg p, .tc-data-th{
             font-size: 12px;
             line-height: 20px;
          }
          .table-comparison-fb .tc-data{
            padding: 10px 0;
          }
          .table-comparison-fb.table-comparison-container{
            padding-top: 30px;
            padding-bottom: 10px;
          }
          .table-comparison-fb .tc-icon-small img{
                max-width: 35px;
          }
        }
{% endstyle %}

{% javascript %}

{% endjavascript %}

<script>
function ready(fn){
  if(document.addEventListener){		//标准浏览器
    document.addEventListener('DOMContentLoaded',function(){
      //注销时间，避免重复触发
      document.removeEventListener('DOMContentLoaded',arguments.callee,false);
      fn();		//运行函数
    },false);
  }else if(document.attachEvent){		//IE浏览器
    document.attachEvent('onreadystatechange',function(){
      if(document.readyState=='complete'){
        document.detachEvent('onreadystatechange',arguments.callee);
        fn();		//函数运行
      }
    });
  }
};
function slectCheck(){
  let selectBox = document.querySelector('.select-box');
  let selectBoxDestok = document.querySelector('.select-box-destok');
  let selectedOption = document.querySelector('.select-box .selected-option');
  let selectedOptionDestok = document.querySelector('.select-box-destok');
  let tcpHeading = document.querySelectorAll('.table-comparison .tcpHeading');
  let selectArrow = document.querySelector('.table-comparison .select-arrow');
  let tableComparison =  document.querySelector('.table-comparison')
  let optionList = document.createElement('ul');
  let firstOption = '',allOptions = '',optionCode = '',optionCodeDestok = '';
  optionList.classList.add('option-list');
  selectBox.appendChild(optionList);

  tcpHeading.forEach(function(elem,index){
    allOptions = elem.innerHTML
    if(index == 0){
      firstOption = elem.innerHTML
    }
    else if(index > 2){
      optionCode += `<li data-index="${index}" class="option">${firstOption} VS ${allOptions}</li>`;
      optionCodeDestok += `<span data-index="${index}" class="option-destok">${allOptions}</span>`;
    }
  });
  optionList.innerHTML = optionCode;
  selectBoxDestok.innerHTML =  optionCodeDestok;
   document.querySelectorAll('.select-box-destok .option-destok')[0].classList.add('active');
  selectBox.addEventListener('click', () => {
    optionList.classList.toggle('show');
    selectArrow.classList.toggle('top');
  });
  optionList.addEventListener('click', (event) => {
    event.stopPropagation();
    if (event.target.classList.contains('option')) {
      selectedOption.innerText = event.target.innerText;
      optionList.classList.remove('show');
      selectArrow.classList.remove('top');
      if( event.target.dataset.index == '0'){
        tableComparison.classList.remove('compare-on');
        tableComparison.removeAttribute('data-table-show');
      }
      else{
        tableComparison.classList.add('compare-on');
        tableComparison.setAttribute('data-table-show',event.target.dataset.index);
      }
    }
  });
  selectedOptionDestok.addEventListener('click', (event) => {
    event.stopPropagation();
    if (event.target.classList.contains('option-destok')) {
      document.querySelectorAll('.select-box-destok .option-destok').forEach((item,index)=>{
        item.classList.remove('active');
      })
      document.querySelectorAll('.select-box-destok .option-destok')[event.target.dataset.index - 3].classList.add('active')
      if( event.target.dataset.index == '0'){
        tableComparison.classList.remove('compare-on');
        tableComparison.removeAttribute('data-table-show');
      }
      else{
        tableComparison.classList.add('compare-on');
        tableComparison.setAttribute('data-table-show',event.target.dataset.index);
      }
    }
  });
}
ready(slectCheck);
</script>

{% schema %}
  {
  "name": "Table Comparison FB",
  "class": "section",
  "max_blocks": 7,
  "tag": "section",
  "settings": [
      {
        "type": "range",
        "id": "padding_top",
        "label": "Padding Top",
        "min": 1,
        "max": 100,
        "step": 1,
        "unit": "px",
        "default": 1
      },
      {
        "type": "range",
        "id": "padding_right",
        "label": "Padding Right",
        "min": 1,
        "max": 100,
        "step": 1,
        "unit": "px",
        "default": 1
      },
      {
        "type": "range",
        "id": "padding_bottom",
        "label": "Padding Bottom",
        "min": 1,
        "max": 100,
        "step": 1,
        "unit": "px",
        "default": 1
      },
      {
        "type": "range",
        "id": "padding_left",
        "label": "Padding Left",
        "min": 1,
        "max": 100,
        "step": 1,
        "unit": "px",
        "default": 1
      },
      {
      "type": "color",
      "id": "background",
      "label": "Background",
      "info": "Used while slideshow image is loading",
      "default": "rgba(0,0,0,0)"
    }
  ],
  "blocks": [
    {
      "name": "Column",
      "type": "column",
      "settings": [
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icon"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "header",
          "content": "Data 1"
        },
        {
          "type": "radio",
          "id": "data_content_type_1",
          "label": "Data Content Type",
          "options": [
            {
              "value": "text",
              "label": "Text"
            },
            {
              "value": "icon",
              "label": "Icon"
            }
          ],
          "default": "text"
        },
        {
          "type": "text",
          "id": "text_1",
          "label": "Text"
        },
        {
          "type": "image_picker",
          "id": "icon_1",
          "label": "Icon"
        },
        {
          "type": "image_picker",
          "id": "icon_1_1",
          "label": "Icon Mobile"
        },
        {
          "type": "text",
          "id": "text_1_2",
          "label": "Icon Mobile Text"
        },
        {
          "type": "header",
          "content": "Data 2"
        },
        {
          "type": "radio",
          "id": "data_content_type_2",
          "label": "Data Content Type",
          "options": [
            {
              "value": "text",
              "label": "Text"
            },
            {
              "value": "icon",
              "label": "Icon"
            }
          ],
          "default": "text"
        },
        {
          "type": "text",
          "id": "text_2",
          "label": "Text"
        },
        {
          "type": "image_picker",
          "id": "icon_2",
          "label": "Icon"
        },
        {
          "type": "image_picker",
          "id": "icon_2_1",
          "label": "Icon Mobile"
        },
        {
          "type": "text",
          "id": "text_2_2",
          "label": "Icon Mobile Text"
        },
        {
          "type": "header",
          "content": "Data 3"
        },
        {
          "type": "radio",
          "id": "data_content_type_3",
          "label": "Data Content Type",
          "options": [
            {
              "value": "text",
              "label": "Text"
            },
            {
              "value": "icon",
              "label": "Icon"
            }
          ],
          "default": "text"
        },
        {
          "type": "text",
          "id": "text_3",
          "label": "Text"
        },
        {
          "type": "image_picker",
          "id": "icon_3",
          "label": "Icon"
        },
        {
          "type": "image_picker",
          "id": "icon_3_1",
          "label": "Icon Mobile"
        },
        {
          "type": "text",
          "id": "text_3_2",
          "label": "Icon Mobile Text"
        },
        {
          "type": "header",
          "content": "Data 4"
        },
        {
          "type": "radio",
          "id": "data_content_type_4",
          "label": "Data Content Type",
          "options": [
            {
              "value": "text",
              "label": "Text"
            },
            {
              "value": "icon",
              "label": "Icon"
            }
          ],
          "default": "text"
        },
        {
          "type": "text",
          "id": "text_4",
          "label": "Text"
        },
        {
          "type": "image_picker",
          "id": "icon_4",
          "label": "Icon"
        },
        {
          "type": "image_picker",
          "id": "icon_4_1",
          "label": "Icon Mobile"
        },
        {
          "type": "text",
          "id": "text_4_2",
          "label": "Icon Mobile Text"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Table Comparison FB"
    }
  ]
}
{% endschema %}